NASA astronaut Mark Watney, a botanist and mechanical engineer, is left stranded on Mars when the crew of the Ares 3 mission are forced to evacuate their landing site in Acidalia Planitia due to an intense dust storm with high winds. Watney is impaled by an antenna during the evacuation, destroying his flight space suit's bio-monitor computer, and his five crewmates believe him to be dead. His injury proves relatively minor, but with no way to contact Earth, Watney must rely on his scientific and technical skills to survive, growing potatoes in the crew's Martian habitat (or Hab) and burning hydrazine to make water. He begins a log of his experiences for some future archeologist who might discover it long after his death. NASA discovers that Watney is alive when satellite images of the landing site show evidence of his activities; they begin working on ways to rescue him, but withhold the news of his survival from the rest of the Ares 3 crew, on their way back to Earth aboard the Hermes spacecraft, so as not to distract them.

Watney plans to drive 3,200 kilometres (2,000 mi) to Schiaparelli crater when the Ares 4 mission lands there in four years. He begins modifying one of Ares 3's rovers for the journey, adding solar cells and an additional battery. He makes a long test drive to recover the unmanned Pathfinder lander and Sojourner rover and brings them back with him to the Hab, allowing him to contact Earth. Mitch Henderson, the Ares 3 flight director, convinces NASA Administrator Teddy Sanders to allow him to inform the Ares 3 crew of Watney's survival; his crewmates are thrilled, except for Melissa Lewis, the commander, who is guilt-stricken at leaving him behind.

As Watney's second potato harvest approaches, a tear in the canvas at one of the Hab airlocks breaches, collapsing the Hab and cannoning Watney away from it, breaking his suit visor. Watney survives and repairs the Hab, but his plants are dead, threatening him again with starvation. NASA hastily prepares an unmanned probe to send Watney supplies, but the probe's rocket disintegrates on liftoff. A deal with the China National Space Administration provides a ready booster to try again, but with no time to build a probe with a soft-landing system, NASA is faced with the unlikely prospect of building one whose cargo will survive crashing into the Martian surface at 300 metres per second. Meanwhile, an astrodynamicist named Rich Purnell has discovered a "slingshot" trajectory that could get Hermes and the Ares 3 crew back to Mars on a much-extended mission to save Watney, using the Chinese rocket to send a resupply probe to Hermes as it passes Earth. Sanders vetoes the "Rich Purnell Maneuver" as involving too much risk for the other crewmembers, but Mitch secretly emails the maneuver to Hermes. All five of Watney's crewmates agree to the plan, and once they begin the maneuver, NASA is compelled to send them the supply ship to save their lives.

Watney resumes modifying the rover, since the new rescue plan requires him to drive to Ares 4's scheduled landing site and lift off from Mars in that mission's Mars Ascent Vehicle (MAV), which has already made an unmanned landing as part of the long preparations for that visit. While working on the rover, Watney accidentally shorts out the electronics of Pathfinder, again losing the ability to communicate with Earth. The resupply probe launches and docks with Hermes successfully. As Watney prepares to leave for Schiaparelli, NASA discovers that a dust storm is approaching Watney's course, potentially stranding him on the journey if the rover's solar cells cannot recharge, but has no way to warn him of this new danger. While crossing Arabia Terra, Watney becomes aware of the encroaching dust storm and makes a rough measurement of the speed and direction of its movement, allowing him to go around it.

Surviving a rover rollover on his descent into Schiaparelli, Watney reaches the MAV and reestablishes contact with NASA. He receives instructions on the radical modifications to the MAV that are necessary to reduce its weight and allow it to intercept Hermes during its flyby. The modifications leave a large hole in the front of the MAV, which Watney covers with Hab canvas. During launch, the canvas patch tears, slowing the liftoff and leaving the MAV on a course too far from the Hermes for Watney to be rescued. Lewis develops a plan to intercept the MAV by firing Hermes' attitude thrusters, then slowing down to match the MAV's velocity by blowing a hole in the Hermes front airlock with an improvised sugar-and-liquid-oxygen oxyliquit bomb. A crewman on a tether uses a Manned Maneuvering Unit to reach Watney aboard the MAV and carry him back to Hermes. In a final log entry, Watney expresses his joy at being rescued.
